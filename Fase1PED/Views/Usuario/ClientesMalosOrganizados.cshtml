@model List<Fase1PED.Models.Usuario>

@{
    Layout = "~/Views/Shared/_LayoutUsuarios.cshtml"; // Usamos el layout específico de usuarios
}

<div class="usuarios-view">
    <h2>Usuarios para Cobro (C y D)</h2>
    <p>Estos son usuarios con riesgo. Se recomienda contactar para cobro.</p>

    <table class="table">
        <thead>
            <tr>
                <th>Nombre</th>
                <th>Dirección</th>
                <th>Teléfono</th>
                <th>Categoría</th>
                <th>Saldo</th>
                <th>Pago Pendiente</th>
                <th>Salario</th>
                <th>Segundo Ingreso</th>
                <th>Tiempo AFP</th>
                <th>Tiempo Empresa</th>
                <th>Tarjeta</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var usuario in Model)
            {
                <tr>
                    <td>@usuario.Nombre</td>
                    <td>@usuario.Direccion</td>
                    <td>@usuario.Telefono</td>
                    <td>@(usuario.Categoria != null ? usuario.Categoria.Nombre : "Sin Categoría")</td>
                    <td>@usuario.Saldo</td>
                    <td>@(usuario.PagoPendiente ? "Sí" : "No")</td>
                    <td>@usuario.Salario</td>
                    <td>@(usuario.SegundoIngreso.HasValue ? usuario.SegundoIngreso.Value.ToString("N2") : "No aplica")</td>
                    <td>@usuario.TiempoAFP - meses</td>
                    <td>@usuario.TiempoEmpresa - meses</td>
                    <td>@(usuario.Tarjeta != null ? usuario.Tarjeta.NombreTarjeta : "Sin Tarjeta")</td>
                </tr>
            }
        </tbody>
    </table>

    <a href="@Url.Action("Index", "Usuario")" class="btn btn-secondary">Volver a la Lista General</a>
</div>
